(()=>{var e={};e.id=6964,e.ids=[6964,2888,660],e.modules={8598:e=>{e.exports={loginContainer:"AdminAuth_loginContainer__zrrt_",loginForm:"AdminAuth_loginForm__ghRpC",input:"AdminAuth_input__nZAEO",button:"AdminAuth_button__4rYEz",error:"AdminAuth_error__8tcbC",dynamicSelectContainer:"AdminAuth_dynamicSelectContainer__wxTnq",mainSelect:"AdminAuth_mainSelect__YFUcr",subSelect:"AdminAuth_subSelect__t1iu5",activeEventsSection:"AdminAuth_activeEventsSection__S9L9E",endEventButton:"AdminAuth_endEventButton__tjfe1"}},7665:e=>{e.exports={adminContainer:"AdminPage_adminContainer__ca9a1",header:"AdminPage_header__QN_7F",logoutButton:"AdminPage_logoutButton__7BlYn",tabs:"AdminPage_tabs__6n8wu",active:"AdminPage_active__o8TGj",mainContent:"AdminPage_mainContent__FvkwG",card:"AdminPage_card__y4bLt",cardTitle:"AdminPage_cardTitle__yMOPM",subTitle:"AdminPage_subTitle__YFxZn",statsGrid:"AdminPage_statsGrid__10FY5",statBox:"AdminPage_statBox__itRUT",searchInput:"AdminPage_searchInput__96dtx",tableContainer:"AdminPage_tableContainer__JXB2B",table:"AdminPage_table__4rVrE",th:"AdminPage_th__BNHIi",td:"AdminPage_td__M_Amc",status:"AdminPage_status__v2skA",blocked:"AdminPage_blocked__8M_4y",activeStatus:"AdminPage_activeStatus__nLqY4",actionButton:"AdminPage_actionButton__6Cb12",blockButton:"AdminPage_blockButton__i7P3H",unblockButton:"AdminPage_unblockButton__hBwEp",editButton:"AdminPage_editButton__6mvAY",addNewButton:"AdminPage_addNewButton__TetXP",message:"AdminPage_message__z2ev3",success:"AdminPage_success__5bKFQ",error:"AdminPage_error__gMvzx",formGrid:"AdminPage_formGrid__SUuqK",formGroup:"AdminPage_formGroup__EEK7G",formGroupCheckbox:"AdminPage_formGroupCheckbox__81yTZ",submitButton:"AdminPage_submitButton__0YUq1",modalBackdrop:"AdminPage_modalBackdrop__5uoqo",modalCard:"AdminPage_modalCard__pKEkz",modalActions:"AdminPage_modalActions__kYhJL",cancelButton:"AdminPage_cancelButton__A4OyD",saveButton:"AdminPage_saveButton__7EptE",fullSpan:"AdminPage_fullSpan__y59UA",inputWithButton:"AdminPage_inputWithButton__1yBhN",selectorModal:"AdminPage_selectorModal__uFFdv",itemList:"AdminPage_itemList__T_nLB",itemChoice:"AdminPage_itemChoice__U6Xkz",detailsModalGrid:"AdminPage_detailsModalGrid__DohDz",subCard:"AdminPage_subCard__pJz4O",link:"AdminPage_link__0HQMA"}},8545:(e,a,s)=>{"use strict";s.r(a),s.d(a,{config:()=>S,default:()=>N,getServerSideProps:()=>A,getStaticPaths:()=>C,getStaticProps:()=>f,reportWebVitals:()=>y,routeModule:()=>E,unstable_getServerProps:()=>B,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>T,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>k});var t={};s.r(t),s.d(t,{default:()=>AdminPageProtected});var n=s(7093),i=s(5244),r=s(1323),l=s(4003),d=s(9597),o=s(997),c=s(6689),m=s(1163),u=s(7665),h=s.n(u),x=s(8598),p=s.n(x),j=s(9583);let g="9cb542e9A",v=["INSULINE","ZOLGENSMA","LUXUTURNA","ZYNTEGLO","VIDA"],b=[{id:"time_accelerator_5m",name:"Acelerador (5 Min)"},{id:"ad_free_boost_10m",name:"Boost Autom\xe1tico (10 Min)"},{id:"freeSpins",name:"Giros Gr\xe1tis"}],_=["EQUIPMENT","TIMED_BUFF","PERMANENT_BUFF","CONSUMABLE"];function AdminLogin({onLoginSuccess:e}){let[a,s]=(0,c.useState)(""),[t,n]=(0,c.useState)("");return o.jsx("div",{className:p().loginContainer,children:(0,o.jsxs)("form",{onSubmit:s=>{s.preventDefault(),a===g?(sessionStorage.setItem("admin_auth_token",a),e()):n("Senha incorreta.")},className:p().loginForm,children:[(0,o.jsxs)("h2",{children:[o.jsx(j.gJy,{})," Acesso Restrito"]}),o.jsx("input",{type:"password",value:a,onChange:e=>s(e.target.value),className:p().input,placeholder:"Senha"}),o.jsx("button",{type:"submit",className:p().button,children:"Entrar"}),t&&o.jsx("p",{className:p().error,children:t})]})})}function BuffSelectorModal({currentBuffData:e,onSave:a,onClose:s}){let[t,n]=(0,c.useState)(()=>{try{return"string"==typeof e?JSON.parse(e||"{}"):e||{}}catch(e){return{}}});return o.jsx("div",{className:h().modalBackdrop,onClick:s,children:(0,o.jsxs)("div",{className:`${h().modalCard} ${h().selectorModal}`,onClick:e=>e.stopPropagation(),children:[o.jsx("h3",{children:"Configurar Buff"}),(0,o.jsxs)("div",{className:h().formGrid,children:[(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Tipo de Item (itemType)"}),o.jsx("select",{value:t.itemType||"EQUIPMENT",onChange:e=>n({...t,itemType:e.target.value}),children:_.map(e=>o.jsx("option",{value:e,children:e},e))})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Nome do Buff (buffName)"}),o.jsx("input",{value:t.buffName||"",onChange:e=>n({...t,buffName:e.target.value}),placeholder:"ex: productionBoost"})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Dura\xe7\xe3o (em milissegundos)"}),o.jsx("input",{type:"number",value:t.duration||0,onChange:e=>n({...t,duration:parseInt(e.target.value)}),placeholder:"ex: 3600000 para 1 hora"})]})]}),(0,o.jsxs)("div",{className:h().modalActions,children:[o.jsx("button",{type:"button",onClick:s,className:h().cancelButton,children:"Cancelar"}),o.jsx("button",{type:"button",onClick:()=>{a(t)},className:h().saveButton,children:"Salvar Buff"})]})]})})}function PlayerDetailsModal({wallet:e,onClose:a,showFeedback:s}){let[t,n]=(0,c.useState)(null),[i,r]=(0,c.useState)(!0),l=(0,c.useCallback)(async()=>{r(!0);try{let a=await fetch(`/api/admin/players/${e}`,{headers:{Authorization:`Bearer ${g}`}}),s=await a.json();if(!a.ok)throw Error(s.message||"Failed to fetch player data.");n(s)}catch(e){s(e.message,"error")}finally{r(!1)}},[e,s]);return(0,c.useEffect)(()=>{e&&l()},[e,l]),o.jsx("div",{className:h().modalBackdrop,onClick:a,children:(0,o.jsxs)("div",{className:`${h().modalCard} ${h().playerDetailsModal}`,onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("h3",{children:["Detalhes de ",e.slice(0,6),"...",e.slice(-4)]}),i?o.jsx("p",{children:"Carregando..."}):t?o.jsx(o.Fragment,{children:(0,o.jsxs)("div",{className:h().detailsModalGrid,children:[(0,o.jsxs)("div",{className:h().subCard,children:[o.jsx("h4",{children:"Saldos de Tokens"}),o.jsx("ul",{className:h().itemList,children:v.map(e=>(0,o.jsxs)("li",{children:[o.jsx("span",{children:e}),o.jsx("span",{children:parseFloat(t.balances?.[e]||0).toFixed(4)})]},e))})]}),(0,o.jsxs)("div",{className:h().subCard,children:[o.jsx("h4",{children:"Invent\xe1rio"}),t.inventory&&Object.keys(t.inventory).length>0?o.jsx("ul",{className:h().itemList,children:Object.entries(t.inventory).map(([e,a])=>(0,o.jsxs)("li",{children:[o.jsx("span",{children:a.name||e}),(0,o.jsxs)("span",{children:["x",a.quantity]})]},e))}):o.jsx("p",{children:"Vazio"})]})]})}):o.jsx("p",{children:"Nenhum dado encontrado."}),o.jsx("div",{className:h().modalActions,children:o.jsx("button",{type:"button",onClick:a,className:h().cancelButton,children:"Fechar"})})]})})}function AdminDashboard(){let e=(0,m.useRouter)(),[a,s]=(0,c.useState)("dashboard"),[t,n]=(0,c.useState)({message:"",type:""}),[i,r]=(0,c.useState)({}),[l,d]=(0,c.useState)(null),[u,x]=(0,c.useState)([]),[p,_]=(0,c.useState)(""),[N,f]=(0,c.useState)({wallet:"",itemType:"TOKEN",itemId:v[0],amount:"1"}),[C,A]=(0,c.useState)([]),[S,y]=(0,c.useState)(null),[k,P]=(0,c.useState)(null),[T,B]=(0,c.useState)([]),[w,E]=(0,c.useState)({name:"",description:"",targetToken:"VIDA",goalAmount:"1000",endsAt:"",rewardItemId:"freeSpins",rewardAmount:"10"}),[I,G]=(0,c.useState)(!1),[D,M]=(0,c.useState)({withdraws:[],deposits:[]}),[$,q]=(0,c.useState)(null),F=(0,c.useCallback)((e,a)=>{n({message:e,type:a}),setTimeout(()=>n({message:"",type:""}),5e3)},[]),O=(0,c.useCallback)(async(e,a={},s)=>{r(a=>({...a,[e]:!0}));try{let t;let n=await fetch(`/api/admin/${e}`,{method:a.method||"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:a.body||null}),i=await n.text();try{t=JSON.parse(i)}catch(e){throw Error(`Resposta inv\xe1lida do servidor: ${i}`)}if(!n.ok)throw Error(t.message||"Erro no servidor.");return s&&F(s,"success"),t}catch(a){console.error(`API call to ${e} failed:`,a),F(a.message,"error")}finally{r(a=>({...a,[e]:!1}))}},[F]),L=(0,c.useCallback)(async e=>{let a;switch(e){case"dashboard":(a=await O("stats"))&&d(a);break;case"players":(a=await O("players"))&&x(a);break;case"history":(a=await O("transactions"))&&M(a);break;case"store":(a=await O("shop-items"))&&A(a);break;case"config":(a=await O("game-config"))&&P(a);break;case"events":(a=await O("events"))&&B(a)}},[O]);(0,c.useEffect)(()=>{L(a)},[a,L]);let handleBlockToggle=async(e,a)=>{await O("players",{method:"POST",body:JSON.stringify({wallet:e,block:a})},"Status de saque atualizado."),L("players")},handleGrantItem=async e=>{e.preventDefault(),await O("grant-item",{method:"POST",body:JSON.stringify(N)},`Doa\xe7\xe3o enviada.`),f({...N,wallet:"",amount:"1"})},handleConfigSave=async e=>{e.preventDefault(),await O("game-config",{method:"POST",body:JSON.stringify({config:k})},"Configura\xe7\xf5es salvas!")},handleCreateEvent=async e=>{e.preventDefault(),await O("events",{method:"POST",body:JSON.stringify(w)},"Novo evento criado e ativado!"),E({name:"",description:"",targetToken:"VIDA",goalAmount:"1000",endsAt:"",rewardItemId:"freeSpins",rewardAmount:"10"}),L("events")},handleEndEvent=async e=>{window.confirm("Tem certeza que deseja finalizar este evento? Esta a\xe7\xe3o n\xe3o pode ser desfeita.")&&(await O(`events/${e}`,{method:"DELETE"},"Evento finalizado!"),L("events"))},handleShopItemSave=async e=>{e.preventDefault();let a={...S};"TIMED_BUFF"!==a.itemType&&"PERMANENT_BUFF"!==a.itemType&&(a.buffData={});let s=S.id?"Item atualizado!":"Item criado!";await O("shop-items",{method:"POST",body:JSON.stringify(a)},s),y(null),L("store")},handleEditingItemChange=(e,a)=>{y(s=>({...s,[e]:a}))},R=u.filter(e=>e.wallet.toLowerCase().includes(p.toLowerCase()));return(0,o.jsxs)("div",{className:h().adminContainer,children:[(0,o.jsxs)("header",{className:h().header,children:[o.jsx("h1",{children:"Painel de Controle"}),(0,o.jsxs)("button",{onClick:()=>{sessionStorage.removeItem("admin_auth_token"),e.push("/game")},className:h().logoutButton,children:[o.jsx(j.fHX,{})," Sair"]})]}),(0,o.jsxs)("div",{className:h().tabs,children:[(0,o.jsxs)("button",{onClick:()=>s("dashboard"),className:"dashboard"===a?h().active:"",children:[o.jsx(j.P31,{})," Dashboard"]}),(0,o.jsxs)("button",{onClick:()=>s("players"),className:"players"===a?h().active:"",children:[o.jsx(j.I$,{})," Jogadores"]}),(0,o.jsxs)("button",{onClick:()=>s("tools"),className:"tools"===a?h().active:"",children:[o.jsx(j.RPl,{})," Ferramentas"]}),(0,o.jsxs)("button",{onClick:()=>s("history"),className:"history"===a?h().active:"",children:[o.jsx(j.ceS,{})," Hist\xf3rico"]}),(0,o.jsxs)("button",{onClick:()=>s("store"),className:"store"===a?h().active:"",children:[o.jsx(j.KSn,{})," Loja"]}),(0,o.jsxs)("button",{onClick:()=>s("config"),className:"config"===a?h().active:"",children:[o.jsx(j.rU2,{})," Configura\xe7\xf5es"]}),(0,o.jsxs)("button",{onClick:()=>s("events"),className:"events"===a?h().active:"",children:[o.jsx(j.OS,{})," Eventos"]})]}),(0,o.jsxs)("main",{className:h().mainContent,children:[t.message&&o.jsx("div",{className:`${h().message} ${h()[t.type]}`,children:t.message}),"dashboard"===a&&(0,o.jsxs)("div",{className:h().card,children:[o.jsx("h2",{className:h().cardTitle,children:"Dashboard"}),(0,o.jsxs)("div",{className:h().statsGrid,children:[(0,o.jsxs)("div",{className:h().statBox,children:[o.jsx("h4",{children:"Total de Jogadores"}),o.jsx("p",{children:l?.totalPlayers??"..."})]}),(0,o.jsxs)("div",{className:h().statBox,children:[o.jsx("h4",{children:"Evento Ativo"}),o.jsx("p",{children:l?.activeEventName??"Nenhum"})]}),(0,o.jsxs)("div",{className:h().statBox,children:[o.jsx("h4",{children:"An\xfancios no Mercado"}),o.jsx("p",{children:l?.totalListings??"..."})]})," ",l?.tokenTotals&&Object.entries(l.tokenTotals).map(([e,a])=>(0,o.jsxs)("div",{className:h().statBox,children:[(0,o.jsxs)("h4",{children:["Total de ",e]}),o.jsx("p",{children:Number(a).toFixed(2)})]},e))]})]}),"players"===a&&(0,o.jsxs)("div",{className:h().card,children:[o.jsx("h2",{className:h().cardTitle,children:"Gerenciamento de Jogadores"}),o.jsx("input",{type:"text",placeholder:"Buscar por carteira...",className:h().searchInput,onChange:e=>_(e.target.value)}),o.jsx("div",{className:h().tableContainer,children:(0,o.jsxs)("table",{className:h().table,children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{children:[o.jsx("th",{className:h().th,children:"Carteira"}),o.jsx("th",{className:h().th,children:"Status Saque"}),o.jsx("th",{className:h().th,children:"A\xe7\xf5es"})]})}),o.jsx("tbody",{children:i.players?o.jsx("tr",{children:o.jsx("td",{colSpan:"3",className:h().td,children:"Carregando..."})}):R.map(e=>(0,o.jsxs)("tr",{children:[o.jsx("td",{className:h().td,children:e.wallet}),o.jsx("td",{className:h().td,children:o.jsx("span",{className:`${h().status} ${e.isWithdrawalBlocked?h().blocked:h().activeStatus}`,children:e.isWithdrawalBlocked?"Bloqueado":"Ativo"})}),(0,o.jsxs)("td",{className:h().td,children:[(0,o.jsxs)("button",{className:h().detailsButton,onClick:()=>q(e.wallet),children:[o.jsx(j.dSq,{})," Detalhes"]}),o.jsx("button",{className:`${h().actionButton} ${e.isWithdrawalBlocked?h().unblockButton:h().blockButton}`,onClick:()=>handleBlockToggle(e.wallet,!e.isWithdrawalBlocked),children:e.isWithdrawalBlocked?"Desbloquear":"Bloquear"})]})]},e.wallet))})]})})]}),"tools"===a&&(0,o.jsxs)("div",{className:h().card,children:[o.jsx("h2",{className:h().cardTitle,children:"Doar Itens / Tokens"}),(0,o.jsxs)("form",{onSubmit:handleGrantItem,className:h().formGrid,children:[(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Carteira do Jogador"}),o.jsx("input",{value:N.wallet,onChange:e=>f({...N,wallet:e.target.value}),required:!0})]}),(0,o.jsxs)("div",{className:`${h().formGroup} ${h().fullSpan} ${h().dynamicSelectContainer}`,children:[(0,o.jsxs)("div",{className:h().mainSelect,children:[o.jsx("label",{children:"Tipo"}),(0,o.jsxs)("select",{value:N.itemType,onChange:e=>f({...N,itemId:"TOKEN"===e.target.value?v[0]:b[0].id,itemType:e.target.value}),children:[o.jsx("option",{value:"TOKEN",children:"Token"}),o.jsx("option",{value:"ITEM",children:"Item de Invent\xe1rio"})]})]}),(0,o.jsxs)("div",{className:h().subSelect,children:[o.jsx("label",{children:"ID do Item/Token"}),o.jsx("select",{value:N.itemId,onChange:e=>f({...N,itemId:e.target.value}),required:!0,children:("TOKEN"===N.itemType?v:b.map(e=>e.id)).map(e=>o.jsx("option",{value:e,children:b.find(a=>a.id===e)?.name||e},e))})]})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Quantidade"}),o.jsx("input",{type:"number",min:"1",value:N.amount,onChange:e=>f({...N,amount:e.target.value}),required:!0})]}),o.jsx("button",{type:"submit",className:h().submitButton,disabled:i["grant-item"],children:i["grant-item"]?"Enviando...":"Enviar Doa\xe7\xe3o"})]})]}),"history"===a&&(0,o.jsxs)("div",{className:h().card,children:[o.jsx("h2",{className:h().cardTitle,children:"Hist\xf3rico de Transa\xe7\xf5es"}),(0,o.jsxs)("div",{className:h().detailsModalGrid,children:[(0,o.jsxs)("div",{className:h().subCard,children:[o.jsx("h4",{children:"\xdaltimos Saques (Withdraws)"}),o.jsx("ul",{className:h().itemList,children:i.transactions?o.jsx("p",{children:"Carregando..."}):D?.withdraws.map(e=>o.jsxs("li",{children:[o.jsxs("span",{children:[e.wallet.slice(0,6),"...",e.wallet.slice(-4)]}),o.jsxs("span",{children:[e.amount," ",e.token]}),o.jsx("a",{href:`https://app.roninchain.com/tx/${e.signature}`,target:"_blank",rel:"noopener noreferrer",className:h().link,children:o.jsx(j.CkN,{})})]},e.id))})]}),(0,o.jsxs)("div",{className:h().subCard,children:[o.jsx("h4",{children:"\xdaltimos Dep\xf3sitos (Compras)"}),o.jsx("ul",{className:h().itemList,children:i.transactions?o.jsx("p",{children:"Carregando..."}):D?.deposits.map(e=>o.jsxs("li",{children:[o.jsxs("span",{children:[e.wallet.slice(0,6),"...",e.wallet.slice(-4)]}),o.jsxs("span",{children:[e.amount," RON (",e.itemName,")"]}),o.jsx("a",{href:`https://app.roninchain.com/tx/${e.signature}`,target:"_blank",rel:"noopener noreferrer",className:h().link,children:o.jsx(j.CkN,{})})]},e.id))})]})]})]}),"store"===a&&(0,o.jsxs)("div",{className:h().card,children:[o.jsx("h2",{className:h().cardTitle,children:"Gerenciar Loja"}),!S&&(0,o.jsxs)("button",{onClick:()=>y({name:"",description:"",price:0,currency:"VIDA",itemType:"EQUIPMENT",isActive:!0,buffData:{}}),className:h().addNewButton,children:[o.jsx(j.wEH,{})," Adicionar Novo Item"]}),o.jsx("div",{className:h().tableContainer,children:(0,o.jsxs)("table",{className:h().table,children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{children:[o.jsx("th",{className:h().th,children:"Nome"}),o.jsx("th",{className:h().th,children:"Pre\xe7o"}),o.jsx("th",{className:h().th,children:"Tipo"}),o.jsx("th",{className:h().th,children:"Status"}),o.jsx("th",{className:h().th,children:"A\xe7\xf5es"})]})}),o.jsx("tbody",{children:i["shop-items"]?o.jsx("tr",{children:o.jsx("td",{colSpan:"5",children:"Carregando..."})}):C.map(e=>(0,o.jsxs)("tr",{children:[o.jsx("td",{className:h().td,children:e.name}),(0,o.jsxs)("td",{className:h().td,children:[e.price," ",e.currency]}),o.jsx("td",{className:h().td,children:e.itemType}),o.jsx("td",{className:h().td,children:o.jsx("span",{className:e.isActive?h().activeStatus:h().blocked,children:e.isActive?"Ativo":"Inativo"})}),o.jsx("td",{className:h().td,children:o.jsx("button",{className:h().editButton,onClick:()=>y(e),children:o.jsx(j.fmQ,{})})})]},e.id))})]})})]}),"config"===a&&(0,o.jsxs)("div",{className:h().card,children:[o.jsx("h2",{className:h().cardTitle,children:"Configura\xe7\xf5es de Jogo"}),i["game-config"]||!k?o.jsx("p",{children:"Carregando..."}):(0,o.jsxs)("form",{onSubmit:handleConfigSave,children:[o.jsx("div",{className:h().fullSpan,children:o.jsx("h3",{className:h().subTitle,children:"Taxas de Produ\xe7\xe3o"})}),o.jsx("div",{className:h().formGrid,children:Object.keys(k.productionRates||{}).map(e=>(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:e}),o.jsx("input",{type:"number",step:"any",value:k.productionRates[e],onChange:a=>P({...k,productionRates:{...k.productionRates,[e]:parseFloat(a.target.value)||0}})})]},e))}),o.jsx("div",{className:h().fullSpan,children:o.jsx("h3",{className:h().subTitle,children:"Progress\xe3o"})}),(0,o.jsxs)("div",{className:h().formGrid,children:[(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Tempo M\xednimo (s)"}),o.jsx("input",{type:"number",value:k.progression?.minTime||"",onChange:e=>P({...k,progression:{...k.progression,minTime:parseInt(e.target.value)||0}})})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Tempo M\xe1ximo (s)"}),o.jsx("input",{type:"number",value:k.progression?.maxTime||"",onChange:e=>P({...k,progression:{...k.progression,maxTime:parseInt(e.target.value)||0}})})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Recompensa M\xednima"}),o.jsx("input",{type:"number",step:"any",value:k.progression?.minReward||"",onChange:e=>P({...k,progression:{...k.progression,minReward:parseFloat(e.target.value)||0}})})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Recompensa M\xe1xima"}),o.jsx("input",{type:"number",step:"any",value:k.progression?.maxReward||"",onChange:e=>P({...k,progression:{...k.progression,maxReward:parseFloat(e.target.value)||0}})})]})]}),o.jsx("button",{type:"submit",className:`${h().submitButton} ${h().fullSpan}`,children:"Salvar Configura\xe7\xf5es"})]})]}),"events"===a&&(0,o.jsxs)("div",{className:h().card,children:[(0,o.jsxs)("div",{className:h().activeEventsSection,children:[o.jsx("h2",{className:h().cardTitle,children:"Eventos Ativos"}),i.events?o.jsx("p",{children:"Carregando..."}):T.length>0?o.jsx("div",{className:h().tableContainer,children:(0,o.jsxs)("table",{className:h().table,children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{children:[o.jsx("th",{className:h().th,children:"Nome"}),o.jsx("th",{className:h().th,children:"Progresso"}),o.jsx("th",{className:h().th,children:"A\xe7\xe3o"})]})}),o.jsx("tbody",{children:T.map(e=>(0,o.jsxs)("tr",{children:[o.jsx("td",{className:h().td,children:e.name}),(0,o.jsxs)("td",{className:h().td,children:[e.currentAmount," / ",e.goalAmount," ",e.targetToken]}),o.jsx("td",{className:h().td,children:o.jsx("button",{onClick:()=>handleEndEvent(e.id),className:h().endEventButton,title:"Finalizar Evento",children:o.jsx(j.Xm5,{})})})]},e.id))})]})}):o.jsx("p",{children:"Nenhum evento ativo no momento."})]}),o.jsx("h3",{className:h().subTitle,children:"Criar Novo Evento"}),(0,o.jsxs)("form",{onSubmit:handleCreateEvent,className:h().formGrid,children:[(0,o.jsxs)("div",{className:`${h().formGroup} ${h().fullSpan}`,children:[o.jsx("label",{children:"Nome"}),o.jsx("input",{name:"name",value:w.name,onChange:e=>E({...w,name:e.target.value}),required:!0})]}),(0,o.jsxs)("div",{className:`${h().formGroup} ${h().fullSpan}`,children:[o.jsx("label",{children:"Descri\xe7\xe3o"}),o.jsx("textarea",{name:"description",value:w.description,onChange:e=>E({...w,description:e.target.value}),rows:"3",required:!0})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Token de Contribui\xe7\xe3o"}),o.jsx("select",{name:"targetToken",value:w.targetToken,onChange:e=>E({...w,targetToken:e.target.value}),required:!0,children:v.map(e=>o.jsx("option",{value:e,children:e},e))})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Meta de Contribui\xe7\xe3o"}),o.jsx("input",{name:"goalAmount",type:"number",value:w.goalAmount,onChange:e=>E({...w,goalAmount:e.target.value}),required:!0})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Item de Recompensa"}),o.jsx("select",{name:"rewardItemId",value:w.rewardItemId,onChange:e=>E({...w,rewardItemId:e.target.value}),required:!0,children:b.map(e=>o.jsx("option",{value:e.id,children:e.name},e.id))})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Qtd. Recompensa"}),o.jsx("input",{name:"rewardAmount",type:"number",value:w.rewardAmount,onChange:e=>E({...w,rewardAmount:e.target.value}),required:!0})]}),(0,o.jsxs)("div",{className:`${h().formGroup} ${h().fullSpan}`,children:[o.jsx("label",{children:"Data de T\xe9rmino"}),o.jsx("input",{name:"endsAt",type:"datetime-local",value:w.endsAt,onChange:e=>E({...w,endsAt:e.target.value}),required:!0})]}),o.jsx("button",{type:"submit",className:`${h().submitButton} ${h().fullSpan}`,disabled:i.events,children:i.events?"Criando...":"Criar e Ativar Evento"})]})]})]}),$&&o.jsx(PlayerDetailsModal,{wallet:$,onClose:()=>q(null),showFeedback:F}),I&&S&&o.jsx(BuffSelectorModal,{currentBuffData:S.buffData,onSave:e=>{S&&y({...S,buffData:e,itemType:e.itemType||S.itemType}),G(!1)},onClose:()=>G(!1)}),S&&o.jsx("div",{className:h().modalBackdrop,onClick:()=>y(null),children:(0,o.jsxs)("div",{className:h().modalCard,onClick:e=>e.stopPropagation(),children:[o.jsx("h3",{children:S.id?"Editar Item":"Criar Novo Item"}),(0,o.jsxs)("form",{onSubmit:handleShopItemSave,className:h().formGrid,children:[(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"ID (\xfanico, sem espa\xe7os)"}),o.jsx("input",{value:S.id||"",onChange:e=>handleEditingItemChange("id",e.target.value.replace(/\s+/g,"_")),disabled:!!S.id,required:!0})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Nome"}),o.jsx("input",{value:S.name,onChange:e=>handleEditingItemChange("name",e.target.value),required:!0})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Pre\xe7o"}),o.jsx("input",{type:"number",step:"any",value:S.price,onChange:e=>handleEditingItemChange("price",parseFloat(e.target.value)),required:!0})]}),(0,o.jsxs)("div",{className:h().formGroup,children:[o.jsx("label",{children:"Moeda"}),o.jsx("select",{value:S.currency,onChange:e=>handleEditingItemChange("currency",e.target.value),required:!0,children:[...v,"RON"].map(e=>o.jsx("option",{value:e,children:e},e))})]}),(0,o.jsxs)("div",{className:`${h().formGroup} ${h().fullSpan}`,children:[o.jsx("label",{children:"Descri\xe7\xe3o"}),o.jsx("textarea",{value:S.description,onChange:e=>handleEditingItemChange("description",e.target.value),rows:"2"})]}),(0,o.jsxs)("div",{className:`${h().formGroup} ${h().fullSpan}`,children:[o.jsx("label",{children:"Tipo e Dados do Buff"}),o.jsx("button",{type:"button",onClick:()=>G(!0),className:h().configButton,children:"Configurar Buff"}),o.jsx("textarea",{value:"string"==typeof S.buffData?S.buffData:JSON.stringify(S.buffData||{},null,2),rows:"3",readOnly:!0})]}),(0,o.jsxs)("div",{className:h().formGroupCheckbox,children:[o.jsx("label",{children:"Ativo?"}),o.jsx("input",{type:"checkbox",checked:S.isActive,onChange:e=>handleEditingItemChange("isActive",e.target.checked)})]}),(0,o.jsxs)("div",{className:`${h().modalActions} ${h().fullSpan}`,children:[o.jsx("button",{type:"button",onClick:()=>y(null),className:h().cancelButton,children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:i["shop-items"],className:h().saveButton,children:"Salvar Item"})]})]})]})})]})}function AdminPageProtected(){let[e,a]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{let e=sessionStorage.getItem("admin_auth_token");e===g&&a(!0)},[]),e)?o.jsx(AdminDashboard,{}):o.jsx(AdminLogin,{onLoginSuccess:()=>a(!0)})}let N=(0,r.l)(t,"default"),f=(0,r.l)(t,"getStaticProps"),C=(0,r.l)(t,"getStaticPaths"),A=(0,r.l)(t,"getServerSideProps"),S=(0,r.l)(t,"config"),y=(0,r.l)(t,"reportWebVitals"),k=(0,r.l)(t,"unstable_getStaticProps"),P=(0,r.l)(t,"unstable_getStaticPaths"),T=(0,r.l)(t,"unstable_getStaticParams"),B=(0,r.l)(t,"unstable_getServerProps"),w=(0,r.l)(t,"unstable_getServerSideProps"),E=new n.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:d.default,Document:l.default},userland:t})},4003:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>Document});var t=s(997),n=s(6859);function Document(){return(0,t.jsxs)(n.Html,{lang:"pt-BR",children:[t.jsx(n.Head,{children:t.jsx("meta",{name:"google-adsense-account",content:"ca-pub-8822559687614116"})}),(0,t.jsxs)("body",{children:[t.jsx(n.Main,{}),t.jsx(n.NextScript,{})]})]})}},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var a=require("../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[6859,8450,8760,5588,9583,1163,9597],()=>__webpack_exec__(8545));module.exports=s})();