"use strict";(()=>{var e={};e.id=3687,e.ids=[3687,2888,660],e.modules={4579:(e,t,a)=>{a.r(t),a.d(t,{config:()=>b,default:()=>f,getServerSideProps:()=>P,getStaticPaths:()=>S,getStaticProps:()=>x,reportWebVitals:()=>j,routeModule:()=>C,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>y});var r={};a.r(r),a.d(r,{default:()=>MintPage});var s=a(7093),n=a(5244),i=a(1323),o=a(4003),l=a(9597),c=a(997),d=a(6689),u=a(1178),m=a(6553),g=a.n(m),p=a(9250);!function(){var e=Error("Cannot find module 'ethers'");throw e.code="MODULE_NOT_FOUND",e}();let h="ronin:583f863de13C33A97B587797B76b255E834a65AC";function MintPage(){let{userAddress:e,signer:t,connectWallet:a}=(0,u.U)(),[r,s]=(0,d.useState)(!1),[n,i]=(0,d.useState)({message:"",type:""}),[o,l]=(0,d.useState)([]),m=(0,d.useCallback)(async()=>{if(!t||!e){i({message:"Please connect your Ronin wallet first.",type:"error"});return}if(!h){i({message:"Configuration error: Treasury address not found.",type:"error"});return}s(!0),i({message:"Preparing transaction... Please approve in your Ronin wallet.",type:"info"});try{let a={to:h,value:Object(function(){var e=Error("Cannot find module 'ethers'");throw e.code="MODULE_NOT_FOUND",e}()).utils.parseEther("0.5")},r=await t.sendTransaction(a);i({message:"Payment sent! Waiting for confirmation...",type:"info"}),await r.wait(),i({message:"Payment confirmed! Contacting the server to deliver your NFTs...",type:"info"});let s=await fetch("/api/mint/starter-pack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userWallet:e,transactionSignature:r.hash})}),n=await s.json();if(!s.ok)throw Error(n.error||"NFT delivery failed.");l(n.nfts),i({message:"Success! Your Starter Pack has been sent. Check your wallet!",type:"success"})}catch(t){let e=t.reason||t.message;i({message:`Error: ${e}`,type:"error"}),console.error("Minting failed:",t)}finally{s(!1)}},[e,t]);return(0,c.jsxs)("div",{className:g().container,children:[c.jsx("div",{className:g().walletButtonContainer,children:e?(0,c.jsxs)("button",{className:g().walletConnectedButton,children:[e.slice(0,6),"...",e.slice(-4)]}):c.jsx("button",{onClick:a,className:g().connectButton,children:"Connect Ronin Wallet"})}),(0,c.jsxs)("div",{className:g().mintCard,children:[c.jsx("img",{src:"/img/logo.png",alt:"Fumegator Logo",className:g().logo}),c.jsx("h1",{className:g().title,children:"Claim Your Starter Pack"}),(0,c.jsxs)("p",{className:g().description,children:["Mint your initial team of 5 random specialists for ","0.5"," RON and start your journey at Fumegator Hospital!"]}),r?c.jsx(p.Z,{message:n.message}):c.jsx("button",{className:g().mintButton,onClick:m,disabled:!e||r||o.length>0,children:o.length>0?"Pack Claimed!":e?"Mint Now for 0.5 RON":"Connect Wallet to Mint"}),n.message&&!r&&c.jsx("p",{className:"error"===n.type?g().feedbackError:g().feedbackSuccess,children:n.message}),o.length>0&&(0,c.jsxs)("div",{className:g().results,children:[c.jsx("h3",{children:"Your New Team (NFTs Minted):"}),c.jsx("ul",{children:o.map(e=>(0,c.jsxs)("li",{children:["âœ“ NFT #",e.id||e.tokenId," (",e.rarity||"Random",")"]},e.id||e.tokenId))})]})]})]})}let f=(0,i.l)(r,"default"),x=(0,i.l)(r,"getStaticProps"),S=(0,i.l)(r,"getStaticPaths"),P=(0,i.l)(r,"getServerSideProps"),b=(0,i.l)(r,"config"),j=(0,i.l)(r,"reportWebVitals"),y=(0,i.l)(r,"unstable_getStaticProps"),N=(0,i.l)(r,"unstable_getStaticPaths"),v=(0,i.l)(r,"unstable_getStaticParams"),_=(0,i.l)(r,"unstable_getServerProps"),w=(0,i.l)(r,"unstable_getServerSideProps"),C=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/mint",pathname:"/mint",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:r})},4003:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Document});var r=a(997),s=a(6859);function Document(){return(0,r.jsxs)(s.Html,{lang:"pt-BR",children:[r.jsx(s.Head,{children:r.jsx("meta",{name:"google-adsense-account",content:"ca-pub-8822559687614116"})}),(0,r.jsxs)("body",{children:[r.jsx(s.Main,{}),r.jsx(s.NextScript,{})]})]})}},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},1017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[6859,8450,9597,1685],()=>__webpack_exec__(4579));module.exports=a})();