"use strict";(()=>{var e={};e.id=1745,e.ids=[1745],e.modules={7831:e=>{e.exports=require("@solana/web3.js")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1057:e=>{e.exports=import("@solana/spl-token")},1599:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>d,default:()=>l,routeModule:()=>u});var n=t(1802),s=t(7153),o=t(6249),i=t(3530),c=e([i]);i=(c.then?(await c)():c)[0];let l=(0,o.l)(i,"default"),d=(0,o.l)(i,"config"),u=new n.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/nft/transfer-to-vault",pathname:"/api/nft/transfer-to-vault",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},3530:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>handler});var n=t(7831),s=t(1057),o=e([s]);async function handler(e,a){if("POST"!==e.method)return a.status(405).json({error:"Method Not Allowed"});try{let{userWallet:t,nftMint:r}=e.body;if(!t||!r)return a.status(400).json({error:"Par\xe2metros ausentes."});let o=new n.Connection((0,n.clusterApiUrl)("devnet"),"confirmed"),i=new n.PublicKey(process.env.NEXT_PUBLIC_DEV_WALLET_ADDRESS),c=new n.PublicKey(t),l=new n.PublicKey(r),d=await (0,s.getOrCreateAssociatedTokenAccount)(o,c,l,c),u=await (0,s.getOrCreateAssociatedTokenAccount)(o,c,l,i),p=new n.Transaction().add((0,s.createTransferInstruction)(d.address,u.address,c,1)),{blockhash:f}=await o.getLatestBlockhash("confirmed");p.recentBlockhash=f,p.feePayer=c;let h=p.serialize({requireAllSignatures:!1});a.status(200).json({transaction:h.toString("base64")})}catch(e){console.error("Erro na API de transfer\xeancia para o cofre:",e),a.status(500).json({error:"Falha ao preparar a transa\xe7\xe3o."})}}s=(o.then?(await o)():o)[0],r()}catch(e){r(e)}})}};var a=require("../../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222],()=>__webpack_exec__(1599));module.exports=t})();