"use strict";(()=>{var e={};e.id=2458,e.ids=[2458],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7591:(e,r,a)=>{a.r(r),a.d(r,{config:()=>l,default:()=>d,routeModule:()=>c});var t={};a.r(t),a.d(t,{default:()=>handler});var s=a(1802),i=a(7153),o=a(6249),n=a(7864);async function handler(e,r){if("GET"!==e.method)return r.status(405).json({message:"M\xe9todo n\xe3o permitido."});try{let e=new Date,a=await n.Z.marketListing.findMany({where:{isActive:!0,endsAt:{gt:e}},orderBy:{createdAt:"desc"}});r.status(200).json(a)}catch(e){console.error("Erro ao buscar an\xfancios do mercado:",e),r.status(500).json({message:"Erro interno do servidor."})}}let d=(0,o.l)(t,"default"),l=(0,o.l)(t,"config"),c=new s.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/market/listings",pathname:"/api/market/listings",bundlePath:"",filename:""},userland:t})},7864:(e,r,a)=>{let t;a.d(r,{Z:()=>i});var s=a(3524);console.log("INICIALIZANDO PRISMA CLIENT. CONECTANDO AO BANCO DE DADOS:",process.env.DATABASE_URL),global.prisma||(global.prisma=new s.PrismaClient),t=global.prisma;let i=t}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[4222],()=>__webpack_exec__(7591));module.exports=a})();