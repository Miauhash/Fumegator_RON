"use strict";(()=>{var e={};e.id=9680,e.ids=[9680],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7918:(e,a,t)=>{t.r(a),t.d(a,{config:()=>m,default:()=>u,routeModule:()=>c});var n={};t.r(n),t.d(n,{default:()=>l});var s=t(1802),r=t(7153),i=t(6249),o=t(7864),d=t(8498);async function handler(e,a){if("POST"!==e.method)return a.status(405).json({message:"Method Not Allowed"});let{wallet:t,itemType:n,itemId:s,amount:r}=e.body,i=parseInt(r);if(!t||!n||!s||isNaN(i)||i<=0)return a.status(400).json({message:"Dados inv\xe1lidos."});try{let e=await o.Z.gameState.findUnique({where:{wallet:t}});if(!e)return a.status(404).json({message:"Jogador n\xe3o encontrado."});let r=e.state;if("TOKEN"===n)r.balances=r.balances||{},r.balances[s]=(r.balances[s]||0)+i;else{if("ITEM"!==n)return a.status(400).json({message:"Tipo de item inv\xe1lido."});r.inventory=r.inventory||{},r.inventory[s]?r.inventory[s].quantity+=i:r.inventory[s]={id:s,name:s.replace(/_/g," "),quantity:i}}await o.Z.gameState.update({where:{wallet:t},data:{state:r}}),a.status(200).json({message:"Doa\xe7\xe3o enviada com sucesso!"})}catch(e){console.error("Error granting item:",e),a.status(500).json({message:"Erro interno do servidor."})}}let l=(0,d.P)(handler),u=(0,i.l)(n,"default"),m=(0,i.l)(n,"config"),c=new s.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/admin/grant-item",pathname:"/api/admin/grant-item",bundlePath:"",filename:""},userland:n})}};var a=require("../../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[4222,7170],()=>__webpack_exec__(7918));module.exports=t})();